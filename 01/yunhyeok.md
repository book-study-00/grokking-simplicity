# 1장 소개

### 함수형 프로그래밍

- 수학 함수 및 순수 함수만 사용하는 프로그래밍 스타일
  ⇒ 순수 함수는 인자에만 의존하고 부수 효과가 없는 함수
  ⇒ 같은 인자를 넣으면 항상 같은 결과를 돌려줌
- 부수 효과가 없음
  ⇒ 부수 효과는 함수가 리턴값 이외에 하는 모든 일을 의미

### 부수 효과가 발생하는 상황

- 전역 범위에서 변수, 속성, 자료구조를 변경 ⇒ 순수 함수 + 불변 객체
- 함수의 원래 인수 값을 변경 ⇒ 불변 객체
- 모든 비동기 요청 ⇒ 해결 불가
- 사용자 입력을 처리 ⇒ 해결 불가
- 예외를 일으킨 해당 함수가 붙잡지 않고 예외를 던짐 ⇒ 해결 불가
- 화면 또는 로그 파일에 출력 ⇒ 해결 불가
- HTML 문서, 브라우저 쿠키, DB에 질의 ⇒ 해결 불가

⇒ 함수를 최대한 분리 + 해결 불가한 영역을 단일 함수로 최소화

⇒ 부수 효과는 반드시 필요함

### 액션, 계산, 데이터

1. 액션 : 부수효과를 일으키는 행동

- 호출하는 시점과 횟수에 의존 → 호출 시 주의!
- 액션에서 시간에 의존하는 부분을 분리하면 좀 더 다루기 쉬움

2. 계산 : 입력값을 계산해 출력

- 부르는 시점과 횟수에 의존하지 않음
- 테스트 하기 쉬움

3. 데이터 : 이벤트에 대한 사실을 기록

- 정적
- 해석이 필요
- 전송하기 편리

⇒ 함수형 프로그래머는 액션보다 계산을 좋아하고 계산보다 데이터를 좋아함

### 액션의 특징

- 시간이 지나더라도 상태가 안전하게 변경되지 않음
- 순서를 보장하지 않음
- 액션이 정확하게 한 번만 실행되지 않을 수 있음

⇒ 각각에 대응하는 함수형 프로그래밍 도구가 존재!!

### 함수형 프로그래밍은 분산 시스템에 잘 어울림

- 분산 시스템은 여러 컴퓨터가 네트워크를 통신
  ⇒ **분산 시스템은 불확실성이 존재** (메시지 순서 바뀜 / 중복 / 유실)
- 코드를 데이터와 계산으로 변경
  ⇒ 데이터와 계산은 실행 시점이나 횟수에 의존 X
- 액션은 함수형 프로그래밍 도구로 안전하게 처리

<aside>
💡 분산 시스템 특징
- 메시지 순서 바뀔 수 있음
- 메시지는 한 번 이상 도착할 수도 있고 도착하지 않을 수 도 있음
 ⇒ 수학적으로 exactly once 불가
- 응답을 받지 못하면 무슨 일이 생겼는지 알 수 없음

</aside>
