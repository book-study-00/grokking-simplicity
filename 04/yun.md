# 4장 액션에서 계산 빼내기

### 액션은 코드 전체로 퍼짐

### 함수에 암묵적 입력과 출력이 있으면 액션이 됨

⇒ 함수에서 암묵적 입력과 출력을 없애면 계산이 됨!

- 암묵적 **입력은 함수의 인자로 변경**
- 암묵적 **출력은 함수의 리턴값으로 변경**

<aside>
💡 암묵적 입력과 출력을 부수 효과라고 부름

</aside>

### 전역 변수는 암묵적 입력 또는 출력이 됨!

### 어떤 값을 바꿀 때 그 값을 복사해서 바꾸는 방법을 copy-on-write라고 함

---

### 액션에서 계산 추출

1. 계산 코드를 찾아 빼냄
   ⇒ 코드 추출 및 새로운 함수 생성
2. 새 함수에 암묵적 입력과 출력을 찾음
3. 암묵적 입력은 인자로 암묵적 출력은 리턴값으로 변경
   (cf. 단, 인자와 리턴값은 바뀌지 않는 불변값)
