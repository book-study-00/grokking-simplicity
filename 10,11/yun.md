# 10장, 11장 일급 함수

### 함수 이름에 있는 암묵적 인자 ⇒ 코드 스멜

- 특징

1. 함수 구현이 거의 똑같음
2. 함수 이름이 구현의 차이를 만듦

- 리팩토링

1. 암묵적 인자를 명시적인 인자로 변경
2. 함수 본문을 콜백으로 바꾸기

### 리팩토링 1 : 암묵적 인자 드러내기

1. 함수 이름에 있는 암묵적 인자 확인
2. 명시적인 인자 추가
3. 함수 본문에 하드 코딩된 값을 새로운 인자로 변경
4. 함수 호출 부분 수정

ex-before) setPriceByName(), setQuantityByName(), setShippingByName()
ex-after) setFieldByName()
⇒ 어떤 필드명을 쓸 수 있는지 API 문서로 정리 필요

### 리팩토링 2: 함수 본문을 콜백으로 바꾸기

1. 본문에서 바꿀 부분의 앞부분과 뒷부분을 확인
2. 리팩토링 할 코드를 함수로 빼냄
3. 빼낸 함수의 인자로 넘길 부분을 또 다른 함수로 빼냄

### 필드명을 문자열로 사용하면 버그 생성?

1. 컴파일 타임 검사 : 정적 타입 시스템

- JS → TS 사용
- Java → Enum 타입
- 하스켈 → 합 타입

2. 런타임 검사 : validate 확인 로직

---

### 일급

- 인자로 전달할 수 있는 것

### 자바스크립트에서 일급이 아닌 것

- 수식 연산자
- 반복문
- 조건문
- try/catch 블록

⇒ 일급이 아닌 기능은 함수로 감싸 일급으로 만들 수 있음

### 일급으로 할 수 있는 것

- 변수에 할당
- 함수의 인자로 넘기기
- 함수의 리턴값으로 받기
- 배열이나 객체에 담기

---

### 데이터 지향

- 이벤트와 엔티티에 대한 사실을 표현하기 위해 일반 데이터 구조(ex. 객체, 배열)를 사용하는 프로그래밍 형식
- 데이터는 항상 해석이 필요!
- 데이터를 그대로 사용하면 여러 가지 방법으로 해석 가능
  (cf. 반면에 제한된 API로 정의하면 데이터를 제대로 활용 불가)

---

### 일급 함수가 없다면 고차 함수를 만들 수 없음

- 일급(인자로 전달할 수 있음) → 고차(함수가 다른 함수를 인자로 받을 수 있음)

### 고차 함수

- 인자로 함수를 받거나 리턴 값으로 함수를 리턴 할 수 있는 함수

1. 특정 동작을 콜백으로 바꿔서 추상화 할 수 있음
2. 함수 안에 있는 코드가 특정한 문맥 안에서 실행할 수 있음

### 함수를 리턴하는 함수는 함수 팩토리와 같음
